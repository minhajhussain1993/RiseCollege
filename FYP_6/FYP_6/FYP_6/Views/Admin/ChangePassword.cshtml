@model FYP_6.Employee
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
@Html.Partial("AdminView")
<body>

    <div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
        
        <br>
        <br>
        <br><br>
<br>
        

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-primary">
                    <div class="panel-heading">Change Password</div>
                    <div class="panel-body">
                        <div class="col-md-6">
                            @using (@Html.BeginForm("ChangePassword", "Admin", FormMethod.Post))
                            {
                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary(true)
                                if (ViewBag.Message == null)
                                {
                                    <div class="form-group">
                                        <label>Old Password</label>
                                        <span class="passwordTxtBoxWidthChange">
                                            @Html.Password("oldpass", null, new { @class = "form-control", @id = "oldpass", @required = "required", @autocomplete = "off" })
                                        </span>
                                    </div>
                                    <div class="form-group">
                                        <label>New Password</label>
                                        <span class="passwordTxtBoxWidthChange">
                                            @Html.Password("newpass", null, new { @class = "form-control", @id = "newpass", @required = "required", @autocomplete = "off" })
                                            </span>
</div>
                                    <input type="checkbox" id="showPass" />
                                    <label>Show Password</label>

                                    <br />
                                    <input type="hidden" value=@Session["AdminID"] />
                                    <button type="submit" class="btn btn-primary">Change Password</button>
                                }
                                else if (ViewBag.Message == "Password Changed")
                                {
                                    <div class="form-group success">
                                        <label>Old Password</label>
                                        <span class="passwordTxtBoxWidthChange">
                                            @Html.Password("oldpass", null, new { @class = "form-control has-error", @id = "oldpass", @required = "required", @autocomplete = "off" })
                                            </span>

</div>
                                    <div class="form-group success">
                                        <label>New Password</label>
                                        <span class="passwordTxtBoxWidthChange">
                                            @Html.Password("newpass", null, new { @class = "form-control has-error", @id = "newpass", @required = "required", @autocomplete = "off" })
                                            </span>
</div>
                                    <input type="checkbox" id="showPass" />
                                    <label>Show Password</label>

                                    <br />
                                    <input type="hidden" value=@Session["AdminID"] />
                                    <button type="submit" class="btn btn-primary">Change Password</button>
                                }
                                else
                                {
                                    <div class="form-group has-error">
                                        <label>Old Password</label>
                                        <span class="passwordTxtBoxWidthChange">
                                            @Html.Password("oldpass", null, new { @class = "form-control has-error", @id = "oldpass", @required = "required", @autocomplete = "off" })
                                            </span>
</div>
                                    <div class="form-group has-error">
                                        <label>New Password</label>
                                        <span class="passwordTxtBoxWidthChange">
                                            @Html.Password("newpass", null, new { @class = "form-control has-error", @id = "newpass", @required = "required", @autocomplete = "off" })
                                            </span>
</div>
                                    <input type="checkbox" id="showPass" />
                                    <label>Show Password</label>

                                    <br />
                                    <input type="hidden" value=@Session["AdminID"] />
                                    <button type="submit" class="btn btn-primary">Change Password</button>
                                }

                            }
                            @if (ViewBag.Message != null)
                            {
                                if (ViewBag.Message == "Password Changed")
                                {
                                    <br />
                                    <br />
                                    <div class="alert bg-success" role="alert">
                                        <svg class="glyph stroked checkmark"><use xlink:href="#stroked-checkmark"></use></svg>
                                        @ViewBag.Message
                                        <a href="#" class="pull-right"><span class="glyphicon glyphicon-remove"></span></a>
                                    </div>
                                }
                                else
                                {
                                    <br />
                                    <br />
                                    <div class="alert bg-danger" role="alert">
                                        <svg class="glyph stroked cancel"><use xlink:href="#stroked-cancel"></use></svg>
                                        @ViewBag.Message
                                        <a href="#" class="pull-right"><span class="glyphicon glyphicon-remove"></span></a>
                                    </div>
                                }

                            }
                        </div>
                    </div>
                </div>
            </div><!-- /.col-->
        </div><!-- /.row -->

    </div><!--/.main-->
    

    
</body>

</html>

